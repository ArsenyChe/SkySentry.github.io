
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SkySentry</title>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;500;600;700&family=Manrope:wght@400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Навигация -->
    <nav>
        <div class="nav-background">
            <div class="container nav-container">
                <a href="https://arsenyche.github.io/SkySentry.github.io/" class="logo-link">
                    <div class="logo">SkySentry</div>
                </a>
                <ul class="nav-links">
                    <li><a href="#problem">Проблема</a></li>
                    <li><a href="#technology">Преимущества</a></li>
                    <li><a href="#drone">Демонстрация</a></li>
                    <li><a href="#tech-stack">Технологии</a></li>
                    <li><a href="#contact">Контакты</a></li>
                </ul>
                <div class="hamburger">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </div>
        </div>
    </nav>

    <div class="mobile-menu">
        <div class="container">
            <ul class="mobile-nav-links">
                <li><a href="#problem" class="tag">Проблема</a></li>
                <li><a href="#technology" class="tag">Преимущества</a></li>
                <li><a href="#drone" class="tag">Демонстрация</a></li>
                <li><a href="#tech-stack" class="tag">Технологии</a></li>
                <li><a href="#contact" class="tag">Контакты</a></li>
            </ul>
        </div>
    </div>

    <!-- Герой секция -->
    <section class="hero">
        <div class="container">
            <div class="hero-block">
                <div class="hero-content">
                        <h1 class="hero-title">НЕБЕСНЫЙ СТРАЖ</h1>
                        <p class="hero-subtitle">АДАПТИВНАЯ СИСТЕМА РАННЕГО ОБНАРУЖЕНИЯ И ОПОВЕЩЕНИЯ О БПЛА</p>
                </div>
                <div class="hero-action">
                    <span class="demo-text">Посмотрите, как это работает</span>
                    <a href="#drone" class="demo-button">Демонстрация</a>
                </div>
            </div>

        </div>
        <div class="cityscape"></div>
        <div class="drone-trail"></div>
        <div class="drone-hero">
                <img src="img\dron_fly.png">
        </div>

        <div class="drone-hero-slow">
                
                <img src="img\dron_fly.png">
                
        </div>

        <div class="detection-box" id="detectionBox"></div>
        <div class="detection-label" id="detectionLabel">БПЛА 0.98</div>

        <div class="detection-box" id="detectionBoxSlow"></div>
        <div class="detection-label" id="detectionLabelSlow">БПЛА 0.95</div>
    </section>

    <!-- Секция проблемы -->
    <section id="problem" class="problem">
        <div class="container">
            <div class="problem-section">
                <div class="left-column">
                    <h2 class="section-title">ПРОБЛЕМА</h2>
                    <p class="problem-description">
                        Приграничные территории и крупные города столкнулись с новой реальностью — регулярными атаками дронов, которые несут двойную угрозу:
                    </p>
                    <img src="img/dron.png">
                </div>
                <div class="right-column">
                    <div class="right-column-top">
                        <div class="card">
                            <h3 class="card-title">Падения БПЛА</h3>
                            <p class="card-content">
                                Падения беспилотных летательных аппаратов на территории жилых кварталов представляют собой прямую опасность для населения, приводя к разрушениям, пожарам и человеческим жертвам
                            </p>
                        </div>
                        
                        <div class="card">
                            <h3 class="card-title">Риск для инфраструктуры</h3>
                            <p class="card-content">
                                Целенаправленные удары по промышленным и энергетическим объектам парализуют жизнь городов и наносят колоссальный экономический ущерб
                            </p>
                        </div>
                    </div>
                    <div class="card-big">
                        <p class="card-content">
                            Целенаправленные удары по промышленным и энергетическим объектам парализуют жизнь городов и наносят колоссальный экономический ущерб
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </section>

        <!-- Наше решение -->
    <section id="solution" class="solution">
        <div class="container">
            <div class="solution-section">
                <div class="left-column">
                    <h2 class="section-title">НАШЕ РЕШЕНИЕ</h2>
                    <p class="problem-description">
                        «Небесный страж»
                        Это сеть автономных модулей видеонаблюдения,  размещаемых на крышах высотных зданий, которая в полностью  автоматическом режиме решает три задачи:
                    </p>
                </div>
                <div class="right-column">
                    <div class="right-column-top">
                        <div class="solution-card">
                            <h3 class="card-title">Верификация</h3>
                            <p class="card-content">
                                Передает видеопоток и координаты обнаруженного объекта дежурному  диспетчеру для подтверждения угрозы и исключения ложных срабатываний
                            </p>
                        </div>
                        
                        <div class="solution-card">
                            <h3 class="card-title">Детекция</h3>
                            <p class="card-content">
                                Обнаруживает БПЛА в воздушном пространстве на подлете к городу с помощью алгоритмов компьютерного зрения (AI), обученных на распознавание  военных дронов
                            </p>
                        </div>
                    </div>
                    <div class="solution-card-big">
                        <h3 class="card-title">Оповещение</h3>
                        <p class="card-content">
                            После подтверждения диспетчером, система инициирует тревогу:  отправляет сигнал в МЧС, ВНГ и включает сирены системы гражданской  обороны и рассылает push-уведомления через мобильные приложения,  городские каналы связи и сотовых операторов
                        </p>
                    </div>

                </div>
            </div>
        </div>
    </section>

    <!-- Секция технологии -->
    <section id="technology" class="technology">
        <div class="container">
            <h2 class="section-title">КЛЮЧЕВЫЕ ПРЕИМУЩЕСТВА</h2>
            <div class="technology-section">
                <div class="right-column">
                    <div class="right-column-top">

                        <div class="card">
                            <h3 class="card-title">Раннее обнаружение</h3>
                            <p class="card-content">
                                За счет размещения камер на высоте мы «видим» дальше и даем драгоценные дополнительные секунды на реакцию
                            </p>
                        </div>
                        <div class="card">
                            <h3 class="card-title">Интеграция</h3>
                            <p class="card-content">
                                Система не заменяет, а усиливает существующие силы МЧС и правоохранительных органов, предоставляя им «цифровые глаза» и инструмент для мгновенного оповещения 
                            </p>
                        </div>
                        
                        <div class="card">
                            <h3 class="card-title">Фокус на гражданской защите</h3>
                            <p class="card-content">
                                Мы решаем не военную, а гуманитарную задачу — спасение жизней мирных жителей
                            </p>
                        </div>
                    </div>
                    <div class="right-column-top">
                        <div class="card">
                            <h3 class="card-title">Ценовая доступность и масштабируемость</h3>
                            <p class="card-content">
                                Передает видеопоток и координаты обнаруженного объекта дежурному  диспетчеру для подтверждения угрозы и исключения ложных срабатываний
                            </p>
                        </div>
                        <div class="img-card-big">
                            <div class="image-clip">
                                <img src="img\dron_big_card.png">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="drone" id="drone">
        <div class="container">
            <h2 class="section-title">ДЕМОНСТРАЦИЯ</h2>
            <div class="drone-container" id="mainContainer">
                <div class="up-section" id="mapSection">
                    <button class="swap-button" id="swapButton">
                        <svg width="32" height="32" viewBox="0 0 32 48" xmlns="http://www.w3.org/2000/svg">
                          <path d="M16 4 L16 20 M8 12 L16 20 L24 12" stroke="white" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"/>
                          <path d="M16 44 L16 28 M8 36 L16 28 L24 36" stroke="white" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </button>
                    
                    <div class="png-container" id="mainImage">
                        <img src="img\map_dron.gif" alt="Drone Map">
                    </div>
                    <div class="gif-container" id="gifContainer">
                        <img src="img\1.gif" alt="Drone GIF">
                    </div>
                </div>
                <div class="bottom-section">
                    <div class="card-dron">
                        <h3 class="card-title">ВНИМАНИЕ</h3>
                        <p class="card-content">
                            Камера: 042 <br>
                            Район: Ворошиловский<br>
                            Вероятность: ~ 94.5%<br>
                            Местоположение: 49.989635, 36.232779<br>
                            
                        </p>
                    </div>
                </div>
            </div>
            
        </div>
    </section>

    <!-- Секция технологического стека -->
    <section id="tech-stack" class="tech-stack">
        <div class="container">
            <h2 class="section-title">ТЕХНОЛОГИЧЕСКИЙ СТЕК</h2>
            <div class="tech-tabs">
                <div class="tech-tab active" data-tab="ai">AI / Computer Vision</div>
                <div class="tech-tab" data-tab="backend">Backend</div>
                <div class="tech-tab" data-tab="frontend">Frontend (диспетчерская)</div>
                <div class="tech-tab" data-tab="infrastructure">Инфраструктура</div>
                <div class="tech-tab" data-tab="hardware">Аппаратура</div>
            </div>
            <div class="tech-content">
                <div class="tech-category" data-category="ai">

                    <div class="card">
                        <h3 class="card-title">Python</h3>
                        <p class="card-content">
                                Основной язык для быстрого прототипирования и разработки AI-моделей благодаря богатой экосистеме библиотек
                            </p>
                    </div>
                    <div class="card">
                        <h3 class="card-title">PyTorch</h3>
                        <p class="card-content">
                                Гибкий и мощный фреймворк для глубокого обучения, который мы используем для исследования, обучения и отладки нейронных сетей
                            </p>
                    </div>
                    <div class="card">
                        <h3 class="card-title">TensorRT</h3>
                        <p class="card-content">
                                Библиотека для оптимизации моделей, которая ускоряет их работу на GPU-серверах в десятки раз, что критически важно для обработки видео в реальном времени
                            </p>
                    </div>
                </div>

                <div class="tech-category" data-category="backend" style="display: none;">
                    <div class="right-column">
                        <div class="right-column-top">
                            <div class="card">
                                <h3 class="card-title">Python</h3>
                                <p class="card-content">
                                        Универсальный язык, на котором мы строим сложную бизнес-логику и алгоритмы анализа данных
                                    </p>
                            </div>
                            <div class="card">
                                <h3 class="card-title">FastAPI</h3>
                                <p class="card-content">
                                        Современный асинхронный фреймворк для создания высокопроизводительных API. Используем там, где важна максимальная скорость отклика
                                    </p>
                            </div>
                        </div>
                        <div class="right-column-top">
                            <div class="card">
                                <h3 class="card-title">Django</h3>
                                <p class="card-content">
                                        Мощный фреймворк "все-в-одном" для построения сложных веб-приложений с богатой административной панелью и встроенными инструментами безопасности
                                    </p>
                            </div>
                            <div class="card">
                                <h3 class="card-title">Node.js</h3>
                                <p class="card-content">
                                        Платформа для создания быстрых и масштабируемых сетевых приложений. Идеально подходит для задач, требующих большого количества одновременных подключений
                                    </p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="tech-category" data-category="frontend" style="display: none;">

                    <div class="card">
                        <h3 class="card-title">React</h3>
                        <p class="card-content">
                                Ведущая библиотека для создания интерактивных и динамичных пользовательских интерфейсов. Позволяет нам строить сложные одностраничные приложения (SPA) с переиспользуемыми компонентами
                            </p>
                    </div>
                    <div class="card">
                        <h3 class="card-title">Leaflet</h3>
                        <p class="card-content">
                                Открытая библиотека для работы с интерактивными картами. Мы используем ее для визуализации геоданных, построения маршрутов и отображения объектов на карте в реальном времени
                            </p>
                    </div>
                </div>

                <div class="tech-category" data-category="infrastructure" style="display: none;">
                    <div class="right-column">
                        <div class="right-column-top">

                            <div class="card">
                                <h3 class="card-title">Docker</h3>
                                <p class="card-content">
                                        Технология контейнеризации, которая гарантирует, что наше приложение будет работать одинаково стабильно на любом сервере: от ноутбука разработчика до облачного кластера
                                    </p>
                            </div>
                            <div class="card">
                                <h3 class="card-title">PostgreSQL</h3>
                                <p class="card-content">
                                        Надежная и производительная реляционная база данных, в которой мы храним и структурируем всю критически важную информацию
                                    </p>
                            </div>
                        </div>    
                        <div class="right-column-top">
                            <div class="card">
                                <h3 class="card-title">Облачный хостинг</h3>
                                <p class="card-content">
                                        Обеспечивает гибкость и масштабируемость. Мы можем быстро увеличить мощности в пиковые нагрузки и снизить затраты в спокойные периоды
                                    </p>
                            </div>
                            <div class="card">
                                <h3 class="card-title">Локальный сервер</h3>
                                <p class="card-content">
                                         Используется для тестирования, разработки и развертывания решений, требующих максимальной безопасности и минимальной задержки в пределах локальной сети
                                    </p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="tech-category" data-category="hardware" style="display: none;">
                    <div class="right-column">
                        <div class="right-column-top">

                            <div class="card">
                                <h3 class="card-title">Камеры</h3>
                                <p class="card-content">
                                         Источники видеопотоков высокого разрешения, которые являются "глазами" системы
                                    </p>
                            </div>
                            <div class="card">
                                <h3 class="card-title">NVIDIA Jetson Orin</h3>
                                <p class="card-content">
                                         Используется для тестирования, разработки и развертывания решений, требующих максимальной безопасности и минимальной задержки в пределах локальной сети
                                    </p>
                            </div>
                        </div>
                        <div class="right-column-top">
                            <div class="card">
                                <h3 class="card-title">RTX 4090</h3>
                                <p class="card-content">
                                         Компактные, но мощные бортовые компьютеры для запуска AI-моделей непосредственно на устройстве (на edge), что снижает задержки и нагрузку на сеть
                                    </p>
                            </div>
                            <div class="card">
                                <h3 class="card-title">GPU-ускорители</h3>
                                <p class="card-content">
                                         Высокопроизводительные видеокарты для серверов. Мы используем их для тренировки сложных нейросетевых моделей и для обработки больших объемов видео в реальном времени в облаке
                                    </p>
                            </div>
                        </div>
                    </div>
                </div>
                
            </div>
        </div>
    </section>

    <!-- Секция контактов -->
    <section id="contact" class="contact">
        <div class="container">
            <h2 class="section-title">КОНТАКТЫ</h2>                   
            <div class="contact-team">
                <div class="team-member">
                    <div class="member-avatar">
                        <img src="https://sun9-52.userapi.com/s/v1/ig2/htc8v6UiQ4GN20EIfVgPKEHB2vZJGqvsmZWOKw5getg-W28GHw3sEVhLRQDFu36sDbB-Zsopf5-fDsitVzPNgv5n.jpg?quality=95&as=32x43,48x64,72x96,108x144,160x213,240x320,360x480,480x640,540x720,640x853,720x960,1080x1440,1280x1707,1440x1920,1920x2560&from=bu&cs=1920x0" class="avatar-image">
                    </div>
                    <div class="member-info">
                        <h4>Виталий Сааков</h4>
                        <p>Data Scientist</p>
                        <div class="member-contact">
                            <a href="https://t.me/vitalvats" target="_blank">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="m22 2-7 20-4-9-9-4 20-7z"></path>
                                </svg>
                                @vitalvats
                            </a>
                        </div>
                    </div>
                </div>
                
                <div class="team-member">

                    <div class="member-avatar">
                        <img src="https://sun9-35.userapi.com/s/v1/ig2/lvRJqsto7-2wXux2Exdf6HNXdpIS1Wm3RMdCsmOskldABXeG2aWsM32TpzoHISfpnTI04HMf00D17oGquwLCM8md.jpg?quality=95&as=32x55,48x82,72x123,108x185,160x274,240x411,360x616,480x822,540x924,631x1080&from=bu&cs=631x0" class="avatar-image">
                    </div>

                    <div class="member-info">
                        <h4>Арсений Чернышев</h4>
                        <p>Data Engineer</p>
                        <div class="member-contact">
                            <a href="https://t.me/archerniy" target="_blank">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="m22 2-7 20-4-9-9-4 20-7z"></path>
                                </svg>
                                @archerniy
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>


    <!-- Футер -->
    <footer>
        <div class="container footer-content">
            <div class="footer-logo">SkySentry</div>

        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const mainContainer = document.getElementById('mainContainer');
            const swapButton = document.getElementById('swapButton');
            
            // Функция для переключения состояния
            function toggleSwap() {
                mainContainer.classList.toggle('swapped');
            }
            
            // Добавляем обработчик события на кнопку
            swapButton.addEventListener('click', toggleSwap);
        });

        // JavaScript для работы меню
        document.addEventListener('DOMContentLoaded', function() {
            const hamburger = document.querySelector('.hamburger');
            const mobileMenu = document.querySelector('.mobile-menu');
            const mobileLinks = document.querySelectorAll('.mobile-nav-links a');

            // Открытие/закрытие меню
            hamburger.addEventListener('click', function() {
                this.classList.toggle('active');
                mobileMenu.classList.toggle('active');

                // Блокировка скролла при открытом меню
            });

            // Закрытие меню при клике на ссылку
            mobileLinks.forEach(link => {
                link.addEventListener('click', function() {
                    hamburger.classList.remove('active');
                    mobileMenu.classList.remove('active');
                    document.body.style.overflow = '';
                });
            });

            // Закрытие меню при клике вне области меню (опционально)
            mobileMenu.addEventListener('click', function(e) {
                if (e.target === mobileMenu) {
                    hamburger.classList.remove('active');
                    mobileMenu.classList.remove('active');
                    document.body.style.overflow = '';
                }
            });
        });




        const animatedElements = document.querySelectorAll('.problem, .problem-content, .solution, .solution-content, .technology, .demo, .tech-stack, .contact, .drone');

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                }
            });
        }, {
            threshold: 0.2
        });

        animatedElements.forEach(element => {
            observer.observe(element);
        });

        // Анимации при прокрутке
        document.addEventListener('DOMContentLoaded', function() {
            // Плавная прокрутка для навигационных ссылок
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    
                    const targetId = this.getAttribute('href');
                    if (targetId === '#') return;
                    
                    const targetElement = document.querySelector(targetId);
                    if (targetElement) {
                        window.scrollTo({
                            top: targetElement.offsetTop - 80,
                            behavior: 'smooth'
                        });
                    }
                });
            });
            
            // Анимация появления элементов при скролле
            const observerOptions = {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            };
            
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('animate-in');
                    }
                });
            }, observerOptions);
            
            // Наблюдаем за элементами, которые должны анимироваться
            document.querySelectorAll('.process-step, .solution-step, .tech-category').forEach(el => {
                observer.observe(el);
            });
            // Переключение вкладок технологического стека
            const tabs = document.querySelectorAll('.tech-tab');
            const categories = document.querySelectorAll('.tech-category');
            
            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    const tabName = tab.getAttribute('data-tab');
                    
                    // Удаляем активный класс со всех вкладок
                    tabs.forEach(t => t.classList.remove('active'));
                    
                    // Добавляем активный класс к выбранной вкладке
                    tab.classList.add('active');
                    
                    // Скрываем все категории
                    categories.forEach(cat => {
                        cat.style.display = 'none';
                    });
                    
                    // Показываем выбранную категорию
                    const selectedCategory = document.querySelector(`.tech-category[data-category="${tabName}"]`);
                    if (selectedCategory) {
                        selectedCategory.style.display = 'flex';
                    }
                });
            });
            
            // Анимация дрона в герое
            const droneHero = document.querySelector('.drone-hero');
            const droneHeroSlow = document.querySelector('.drone-hero-slow');
            const droneTrail = document.querySelector('.drone-trail');
            const detectionBox = document.getElementById('detectionBox');
            const detectionLabel = document.getElementById('detectionLabel');
            const detectionBoxSlow = document.getElementById('detectionBoxSlow');
            const detectionLabelSlow = document.getElementById('detectionLabelSlow');

            // Функция для получения случайного числа в диапазоне
            function getRandom(min, max) {
                return Math.random() * (max - min) + min;
            }

            function animateDroneHero() {
                droneHero.style.opacity = '0';
                droneHeroSlow.style.opacity = '0';
                droneTrail.innerHTML = '';
                
                // Разные задержки для дронов
                const fastDroneDelay = getRandom(1000, 3000); // Быстрый дрон появляется раньше
                const slowDroneDelay = getRandom(4000, 7000); // Медленный дрон появляется позже
                
                // Запускаем анимацию быстрого дрона
                setTimeout(() => animateFastDrone(), fastDroneDelay);
                
                // Запускаем анимацию медленного дрона с задержкой
                setTimeout(() => animateSlowDrone(), slowDroneDelay);
            }

            function animateFastDrone() {
                droneHero.style.opacity = '1';
                const duration = 32000; // Быстрый дрон летит быстрее
                const startTime = Date.now();
                
                // Параметры для быстрого дрона - резкие и быстрые движения
                const randomStartY = getRandom(15, 35);
                const randomAmplitude = getRandom(3, 8);
                const randomSpeed = getRandom(1.5, 3);
                const direction = Math.random() > 0.5 ? 1 : -1;
                const startX = direction > 0 ? -60 : 250;
                
                droneHero.style.transform = direction > 0 ? 'scaleX(1)' : 'scaleX(-1)';

                function updateFastDrone() {
                    const elapsed = Date.now() - startTime;
                    const progress = elapsed / duration;
                    
                    if (progress < 1) {
                        const x = startX + progress * 310 * direction;
                        const y = randomStartY + randomAmplitude * Math.sin(progress * Math.PI * 4 * randomSpeed);
                        
                        droneHero.style.left = `${x}%`;
                        droneHero.style.top = `${y}%`;
                        
                        // Создание следа для быстрого дрона (чаще и ярче)
                        if (elapsed % 50 < 10) {
                            createParticle(x, y, 'rgba(37, 99, 235, 0.3)', 500, 1500);
                        }

                        updateDetectionBox(x, y, progress, 'fast');
                        requestAnimationFrame(updateFastDrone);
                    } else {
                        droneHero.style.opacity = '0';
                        detectionBox.style.opacity = '0';
                        detectionLabel.style.opacity = '0';
                    }
                }
                
                requestAnimationFrame(updateFastDrone);
            }

            function animateSlowDrone() {
                droneHeroSlow.style.opacity = '1';
                const duration = 40000; // Медленный дрон летит медленнее
                const startTime = Date.now();
                
                // Параметры для медленного дрона - плавные и медленные движения
                const randomStartY = getRandom(20, 60);
                const randomAmplitude = getRandom(8, 20);
                const randomSpeed = getRandom(0.3, 1);
                
                // Медленный дрон всегда летит в противоположном направлении от быстрого
                const fastDroneDirection = parseFloat(droneHero.style.left) < 50 ? 1 : -1;
                const direction = -fastDroneDirection; // Противоположное направление
                const startX = direction > 0 ? -70 : 260;

                droneHeroSlow.style.transform = direction > 0 ? 'scaleX(1)' : 'scaleX(-1)';
                
                function updateSlowDrone() {
                    const elapsed = Date.now() - startTime;
                    const progress = elapsed / duration;
                    
                    if (progress < 1) {
                        const x = startX + progress * 330 * direction;
                        const y = randomStartY + randomAmplitude * Math.sin(progress * Math.PI * 2 * randomSpeed);
                        
                        droneHeroSlow.style.left = `${x}%`;
                        droneHeroSlow.style.top = `${y}%`;
                        
                        // Создание следа для медленного дрона (реже и прозрачнее)
                        if (elapsed % 150 < 15) {
                            createParticle(x, y, 'rgba(37, 99, 235, 0.3)', 600, 1600);
                        }

                        updateDetectionBox(x, y, progress, 'slow');
                        requestAnimationFrame(updateSlowDrone);
                    } else {
                        droneHeroSlow.style.opacity = '0';
                        detectionBoxSlow.style.opacity = '0';
                        detectionLabelSlow.style.opacity = '0';
                        // Перезапускаем всю анимацию после завершения медленного дрона
                        setTimeout(animateDroneHero, 3000);
                    }
                }
                
                requestAnimationFrame(updateSlowDrone);
            }

            // Функция создания частицы следа
            function createParticle(x, y, color, minFadeTime, maxFadeTime) {
                const particle = document.createElement('div');
                particle.style.position = 'absolute';
                particle.style.width = '10px';
                particle.style.height = '10px';
                particle.style.backgroundColor = color;
                particle.style.borderRadius = '50%';
                particle.style.left = `${x+5}%`;
                particle.style.top = `${y+6}%`;
                particle.style.transform = 'translate(-50%, -50%)';
                particle.style.opacity = '1';
                particle.style.zIndex = '5';
                droneTrail.appendChild(particle);
                
                const fadeTime = getRandom(minFadeTime, maxFadeTime);
                setTimeout(() => {
                    particle.style.opacity = '0';
                    setTimeout(() => particle.remove(), 500);
                }, fadeTime);
            }

            // Обновленная функция для рамок обнаружения
            function updateDetectionBox(x, y, progress, droneType) {
                if (droneType === 'fast') {
                    // Для БЫСТРОГО дрона
                    if (progress > 0.1 && progress < 0.9) {
                        detectionBox.style.opacity = '1';
                        detectionBox.style.left = `${x + 0.5}%`;
                        detectionBox.style.top = `${y - 1.5}%`;
                        detectionBox.style.width = '100px';
                        detectionBox.style.height = '80px';
                        
                        detectionLabel.style.opacity = '1';
                        detectionLabel.style.left = `${x + 0.5}%`;
                        detectionLabel.style.top = `${y - 2.5}%`;
                    } else {
                        detectionBox.style.opacity = '0';
                        detectionLabel.style.opacity = '0';
                    }
                } else if (droneType === 'slow') {
                    // Для МЕДЛЕННОГО дрона
                    if (progress > 0.1 && progress < 0.9) {
                        detectionBoxSlow.style.opacity = '1';
                        detectionBoxSlow.style.left = `${x + 0.5}%`;
                        detectionBoxSlow.style.top = `${y - 1.5}%`;
                        detectionBoxSlow.style.width = '100px'; // Больше размер
                        detectionBoxSlow.style.height = '80px';
                        
                        detectionLabelSlow.style.opacity = '1';
                        detectionLabelSlow.style.left = `${x + 0.5}%`;
                        detectionLabelSlow.style.top = `${y - 2.5}%`;
    
                    } else {
                        detectionBoxSlow.style.opacity = '0';
                        detectionLabelSlow.style.opacity = '0';
                    }
                }
            }
            
            // Запуск анимации дрона после загрузки
            window.addEventListener('load', () => {
                animateDroneHero();
            });
            
            // Изменение навигации при скролле
            window.addEventListener('scroll', function() {
                const nav = document.querySelector('nav');
                const navBackground = document.querySelector('.nav-background');
                if (window.scrollY > 50) {
                    nav.style.padding = "10px 20px";
                    navBackground.style.boxShadow = "0 5px 15px rgba(0, 0, 0, 0.1)";
                } else {
                    nav.style.padding = "30px 20px";
                    navBackground.style.boxShadow = "0 10px 25px rgba(0, 0, 0, 0.05)";
                }
            });
        });


        
    </script>
</body>
</html>
